<h1>Budget List</h1>
<%= form_with model: @form, url: payments_balances_path, id: "pb_form", local: true do |form| %>
<%= render 'devise/shared/error_messages', model: @form %>
  <button type="button" id="add-form-button">追加</button>
  <table>
      <thead>
        <tr>
          <th> date </th>
          <th> purpose </th>
          <th> amount </th>
          <th> payment </th>
        </tr>
      </thead>
    <tbody>
    <%= form.fields_for :payments_balances do |balance| %>
      <tr class="balance_forms">
        <td class="balance_form"><%= balance.date_field :date, type: "date", id:"inputform_date" %></td>
        <td class="balance_form"><%= balance.collection_select :purpose, Purpose.roots, :id, :name, { include_blank: "---" }, { id: "parent-category" } %></td>
        <td class="balance_form"><%= balance.text_field :amount, placeholder: "0", type: "number", id:"inputform_amount" %></td>
        <td class="balance_form"><%= balance.collection_select(:payment_id, Payment.all, :id, :name, {}, {class:"select-box", id:"item-category"}) %></td>
        <td class="balance_form"><button type="button" class="delete-form" id="deleted_form_ids" data-form_id="form_0">削除</button></td>
      </tr>
    <% end %>
    </tbody>
  </table>
  <div class="balance_forms" id="form_area"></div>
  <%= form.submit "登録", class: "save_btn", id: "save-button" %>
  <%= link_to "戻る", root_path %>
<% end %>